[
  {
    "content": "TABLE: ndpd_data (Network Deployment Planning Data)\n\nMain table for tracking actual vs forecasted site deployments across regions and carriers.\n\nIMPORTANT: When user asks about ANY of these keywords, use ndpd_data table:\n- \"NDPD\"\n- \"Network Deployment Planning\"\n- \"site forecast\", \"forecast sites\"\n- \"actual sites\", \"deployed sites\"\n- \"deployment planning\"\n- \"MEA\" (Middle East Africa), \"CEWA\" (Central/East/West Africa)\n- \"Airtel\", carrier deployments\n- Period-based analysis (2025P01, 2025P02, etc.)\n\nColumns:\n- id (INTEGER, PRIMARY KEY): Auto-increment ID\n- period (STRING, INDEXED): Time period (e.g., \"2025P01\" = 2025 Period 01, \"2025P02\" = 2025 Period 02)\n- ct (STRING, INDEXED): Category/Cell Type - Regional deployment category (e.g., \"MEA CEWA AIR CT Airtel Kenya\")\n- actual_sites (INTEGER): Number of sites actually deployed/completed\n- forecast_sites (INTEGER): Number of sites forecasted/planned for deployment\n\nUse this table when:\n- User asks about \"NDPD data\" or \"network deployment\"\n- User wants forecast vs actual comparison\n- User asks about site deployments by region/carrier\n- User wants to analyze deployment performance\n- User mentions periods like \"2025P01\" or \"Period 1\"\n\nExample queries:\n- \"Show me NDPD data\" → SELECT * FROM ndpd_data\n- \"How many sites forecasted?\" → SELECT SUM(forecast_sites) FROM ndpd_data\n- \"Actual vs forecast for 2025P01\" → SELECT period, SUM(actual_sites), SUM(forecast_sites) FROM ndpd_data WHERE period = '2025P01' GROUP BY period\n- \"Deployment performance by region\" → SELECT ct, actual_sites, forecast_sites FROM ndpd_data\n",
    "metadata": {
      "type": "table_overview",
      "table_name": "ndpd_data",
      "priority": "high"
    }
  },
  {
    "content": "COLUMNS: ndpd_data\n\nDetailed column information for ndpd_data table:\n\nid: INTEGER, PRIMARY KEY, AUTO INCREMENT\n  - Unique identifier for each NDPD record\n  - Use for specific record lookups: WHERE id = 123\n\nperiod: STRING(50), INDEXED\n  - Time period in format \"YYYYPNN\" where:\n    - YYYY = Year (e.g., 2025)\n    - P = \"Period\" separator\n    - NN = Period number (01, 02, 03, etc.)\n  - Examples: \"2025P01\", \"2025P02\", \"2025P12\"\n  - Filter by period: WHERE period = '2025P01'\n  - Filter by year: WHERE period LIKE '2025%'\n  - Common queries:\n    - Current period: WHERE period = '2025P01'\n    - All periods in 2025: WHERE period LIKE '2025%'\n    - Specific quarter: WHERE period IN ('2025P01', '2025P02', '2025P03')\n\nct: STRING(500), INDEXED\n  - Category/Cell Type - Regional deployment category\n  - Format: \"{Region} {Sub-region} {Carrier} CT {Carrier Name} {Country/Region}\"\n  - Examples:\n    - \"MEA CEWA AIR CT Airtel Kenya\"\n    - \"MEA CEWA AIR CT Airtel Nigeria\"\n    - \"MEA ENT NA CT Libya\"\n  - Breakdown:\n    - MEA = Middle East Africa\n    - CEWA = Central/East/West Africa\n    - AIR = Airtel\n    - ENT = Enterprise\n    - CT = Cell Type/Category\n  - Search patterns:\n    - By carrier: WHERE ct LIKE '%Airtel%'\n    - By country: WHERE ct LIKE '%Kenya%'\n    - By region: WHERE ct LIKE '%MEA CEWA%'\n\nactual_sites: INTEGER\n  - Number of sites actually deployed/completed\n  - Represents reality - what was achieved\n  - Use for performance analysis\n  - Aggregations:\n    - Total deployed: SUM(actual_sites)\n    - Average per category: AVG(actual_sites)\n    - Maximum deployment: MAX(actual_sites)\n\nforecast_sites: INTEGER\n  - Number of sites forecasted/planned for deployment\n  - Represents target/goal\n  - Use for planning and variance analysis\n  - Aggregations:\n    - Total forecasted: SUM(forecast_sites)\n    - Total variance: SUM(forecast_sites - actual_sites)\n    - Achievement rate: SUM(actual_sites) * 100.0 / SUM(forecast_sites)\n",
    "metadata": {
      "type": "columns",
      "table_name": "ndpd_data"
    }
  },
  {
    "content": "BUSINESS RULE: NDPD Table Selection and Queries\n\nWhen user asks about Network Deployment Planning, use these EXACT patterns:\n\n1. BASIC QUERIES:\n   - \"Show me NDPD data\" → SELECT * FROM ndpd_data\n   - \"How many NDPD records?\" → SELECT COUNT(*) FROM ndpd_data\n   - \"NDPD for period 2025P01\" → SELECT * FROM ndpd_data WHERE period = '2025P01'\n\n2. FORECAST VS ACTUAL ANALYSIS:\n   - \"Actual vs forecast\" → SELECT SUM(actual_sites) as actual, SUM(forecast_sites) as forecast FROM ndpd_data\n   - \"Deployment variance\" → SELECT period, SUM(forecast_sites - actual_sites) as variance FROM ndpd_data GROUP BY period\n   - \"Achievement rate\" → SELECT period, (SUM(actual_sites) * 100.0 / SUM(forecast_sites)) as achievement_pct FROM ndpd_data GROUP BY period\n\n3. PERIOD-BASED QUERIES:\n   - \"2025P01 data\" → SELECT * FROM ndpd_data WHERE period = '2025P01'\n   - \"All 2025 data\" → SELECT * FROM ndpd_data WHERE period LIKE '2025%'\n   - \"Compare periods\" → SELECT period, SUM(actual_sites), SUM(forecast_sites) FROM ndpd_data GROUP BY period\n\n4. REGION/CARRIER QUERIES:\n   - \"Airtel deployments\" → SELECT * FROM ndpd_data WHERE ct LIKE '%Airtel%'\n   - \"Kenya sites\" → SELECT * FROM ndpd_data WHERE ct LIKE '%Kenya%'\n   - \"By region\" → SELECT ct, SUM(actual_sites), SUM(forecast_sites) FROM ndpd_data GROUP BY ct\n\n5. PERFORMANCE METRICS:\n   - \"Top performers\" → SELECT TOP 10 ct, actual_sites, forecast_sites FROM ndpd_data WHERE actual_sites > forecast_sites ORDER BY (actual_sites - forecast_sites) DESC\n   - \"Underperformers\" → SELECT ct, actual_sites, forecast_sites FROM ndpd_data WHERE actual_sites < forecast_sites\n   - \"Perfect execution\" → SELECT * FROM ndpd_data WHERE actual_sites = forecast_sites\n\nIMPORTANT:\n- Use lowercase \"ndpd_data\" for table name (NOT \"NDPD_Data\" or \"ndpdData\")\n- period column stores strings like '2025P01' (use quotes in WHERE clauses)\n- ct column is case-sensitive - use LIKE with wildcards\n- For percentage calculations, use: (actual * 100.0 / forecast) to avoid integer division\n",
    "metadata": {
      "type": "business_rule",
      "category": "ndpd_queries",
      "priority": "high"
    }
  },
  {
    "content": "BUSINESS RULE: NDPD Aggregation and Analysis Patterns\n\nCommon project manager queries and their SQL patterns:\n\n1. TOTAL DEPLOYMENTS:\n   Query: \"How many total sites deployed?\"\n   SQL: SELECT SUM(actual_sites) as total_deployed FROM ndpd_data\n\n   Query: \"Total forecast for 2025?\"\n   SQL: SELECT SUM(forecast_sites) as total_forecast FROM ndpd_data WHERE period LIKE '2025%'\n\n2. VARIANCE ANALYSIS:\n   Query: \"What's the variance between actual and forecast?\"\n   SQL: SELECT\n          SUM(actual_sites) as total_actual,\n          SUM(forecast_sites) as total_forecast,\n          SUM(forecast_sites - actual_sites) as variance,\n          (SUM(actual_sites) * 100.0 / SUM(forecast_sites)) as achievement_percentage\n        FROM ndpd_data\n\n3. PERIOD COMPARISON:\n   Query: \"Compare P01 vs P02\"\n   SQL: SELECT\n          period,\n          SUM(actual_sites) as actual,\n          SUM(forecast_sites) as forecast\n        FROM ndpd_data\n        WHERE period IN ('2025P01', '2025P02')\n        GROUP BY period\n\n4. TOP/BOTTOM PERFORMERS:\n   Query: \"Which regions exceeded forecast?\"\n   SQL: SELECT ct, actual_sites, forecast_sites, (actual_sites - forecast_sites) as over_delivery\n        FROM ndpd_data\n        WHERE actual_sites > forecast_sites\n        ORDER BY over_delivery DESC\n\n   Query: \"Bottom 5 underperformers\"\n   SQL: SELECT TOP 5 ct, actual_sites, forecast_sites, (forecast_sites - actual_sites) as shortfall\n        FROM ndpd_data\n        WHERE actual_sites < forecast_sites\n        ORDER BY shortfall DESC\n\n5. CARRIER/REGION BREAKDOWN:\n   Query: \"Airtel performance across all regions\"\n   SQL: SELECT ct, SUM(actual_sites) as actual, SUM(forecast_sites) as forecast\n        FROM ndpd_data\n        WHERE ct LIKE '%Airtel%'\n        GROUP BY ct\n\n6. ACHIEVEMENT RATE BY CATEGORY:\n   Query: \"Achievement rate by carrier\"\n   SQL: SELECT\n          CASE\n            WHEN ct LIKE '%Airtel%' THEN 'Airtel'\n            WHEN ct LIKE '%Libya%' THEN 'Libya'\n            ELSE 'Other'\n          END as carrier,\n          (SUM(actual_sites) * 100.0 / SUM(forecast_sites)) as achievement_pct\n        FROM ndpd_data\n        GROUP BY CASE\n                   WHEN ct LIKE '%Airtel%' THEN 'Airtel'\n                   WHEN ct LIKE '%Libya%' THEN 'Libya'\n                   ELSE 'Other'\n                 END\n",
    "metadata": {
      "type": "business_rule",
      "category": "ndpd_analysis",
      "priority": "high"
    }
  },
  {
    "content": "BUSINESS RULE: CRITICAL - NDPD is the ONLY deployment tracking table\n\nIMPORTANT: There is NO \"Regions\" table, NO \"Deployments\" table, NO \"Targets\" table.\nALL deployment and forecast data is in the ndpd_data table ONLY.\n\nWhen user asks about:\n- \"regions exceeded forecast\" → Use ndpd_data (NOT a Regions table)\n- \"missed target\" or \"underperformed\" → Use ndpd_data (NOT a Deployments table)\n- \"deployment performance\" → Use ndpd_data\n- Any deployment-related query → Use ndpd_data\n\nNEVER hallucinate tables that don't exist. ONLY use ndpd_data for NDPD queries.\n\nCorrect patterns:\n- \"regions exceeded forecast\" → SELECT ct, actual_sites, forecast_sites FROM ndpd_data WHERE actual_sites > forecast_sites\n- \"missed target\" → SELECT * FROM ndpd_data WHERE actual_sites < forecast_sites\n- \"underperforming regions\" → SELECT ct FROM ndpd_data WHERE actual_sites < forecast_sites ORDER BY (forecast_sites - actual_sites) DESC\n",
    "metadata": {
      "type": "business_rule",
      "category": "ndpd_critical",
      "priority": "critical"
    }
  },
  {
    "content": "BUSINESS RULE: NDPD Column Name Recognition\n\nWhen users ask questions, map these terms to correct columns:\n\nPERIOD MAPPING:\nUser says → Use column\n- \"period\", \"time period\", \"when\", \"P01\", \"2025P01\" → period\n- \"in 2025\", \"for 2025\" → period LIKE '2025%'\n- \"period 1\", \"first period\" → period LIKE '%P01'\n\nCT (Category) MAPPING:\nUser says → Use column\n- \"region\", \"category\", \"carrier\", \"country\" → ct\n- \"Airtel\", \"Kenya\", \"Nigeria\", \"Libya\" → ct LIKE '%keyword%'\n- \"MEA\", \"CEWA\", \"deployment category\" → ct\n\nACTUAL SITES MAPPING:\nUser says → Use column\n- \"actual\", \"deployed\", \"completed\", \"built\", \"done\" → actual_sites\n- \"how many sites deployed\", \"actual deployments\" → actual_sites\n- \"what was delivered\" → actual_sites\n\nFORECAST SITES MAPPING:\nUser says → Use column\n- \"forecast\", \"planned\", \"target\", \"goal\", \"expected\" → forecast_sites\n- \"how many sites planned\", \"forecasted deployment\" → forecast_sites\n- \"what was the plan\" → forecast_sites\n\nVARIANCE/COMPARISON MAPPING:\nUser says → Calculate as\n- \"variance\", \"difference\", \"gap\" → (forecast_sites - actual_sites)\n- \"over-delivery\", \"exceeded forecast\" → (actual_sites - forecast_sites) where actual > forecast\n- \"shortfall\", \"under-delivered\" → (forecast_sites - actual_sites) where forecast > actual\n- \"achievement rate\", \"performance %\" → (actual_sites * 100.0 / forecast_sites)\n\nEXAMPLES:\n- \"Show deployed sites in Kenya\" → SELECT actual_sites FROM ndpd_data WHERE ct LIKE '%Kenya%'\n- \"What's the target for Airtel?\" → SELECT SUM(forecast_sites) FROM ndpd_data WHERE ct LIKE '%Airtel%'\n- \"Period 1 performance\" → SELECT SUM(actual_sites), SUM(forecast_sites) FROM ndpd_data WHERE period LIKE '%P01'\n",
    "metadata": {
      "type": "business_rule",
      "category": "ndpd_terminology",
      "priority": "high"
    }
  }
]